# AccountProject
회원가입 후 계좌 관리(생성/해지/확인) 및 타 계좌로 이체하는 시스템

## ERD 설계
![image](https://github.com/kku1031/AccountProject/assets/106217267/0091134e-5b24-4002-9e42-103f2f596b48)


## 기술 스택
- 활용 DB : `H2 DB`(memory DB 모드), `MariaDB`
- DB접근방식 : `Spring data jpa`
- 보조서버 : `Embedded redis`
- API Request 및 Response : `json` 타입
- 인증 허가 : `Spring Security`, `jwt`
- Test 방식 : `postman`
  
## 구현기능

✅ 회원가입 API
- 회원가입 시 아이디, 비밀번호, 이름, 이메일이 필요하다.
- 회원가입 시 이미 가입된 아이디로 가입을 시도하면 에러가 발생한다.
- 중복 아이디는 허용하지 않는다.
- 패스워드는 암호화된 형태로 DB에 저장한다.

✅ 로그인/로그아웃 API
- 로그인 시 아이디와 비밀번호는 일치해야 한다.
- 로그아웃 시 계좌/거래 서비스를 이용할 수 없다

✅ 계좌 관련 API

- 계좌 생성
  - 계좌 생성 시, 사용자 아이디, 초기 잔액(100원)을 파라미터로 갖는다.
  - 계좌정보가 없는 경우, 사용자가 없는 경우, 계좌가 6개(용자당 최대 보유 가능 계좌 수)인 경우 실패 응답을 반환한다.
  - 성공 응답 : 사용자 아이디, 계좌번호, 등록일시를 표기해준다.
  
- 계좌 해지
  - 계좌 해지 시, 사용자 아이디, 계좌 번호를 파라미터로 갖는다.
  - 용자 또는 계좌가 없는 경우, 사용자 아이디와 계좌 소유주가 다른 경우, 계좌가 이미 해지 상태인 경우, 잔액이 있는 경우 실패 응답을 반환한다.
  - 성공 응답 : 사용자 아이디, 계좌번호, 해지일시로 표기해준다.
  - 계좌 상태 수정 : IN_USE → UNREGISTERED 로 변경한다.
  - 계좌 해지일시 수정 : null → 현재 시간으로 변경한다.
 
- 계좌 확인
  - 계좌 확인 시, 사용자 아이디를 파라미터로 갖는다.
  - 사용자 없는 경우 실패 응답을 반환한다.
  - 성공 응답 : List<계좌번호, 잔액> 구조로 응답(사용 중인 계좌만) 한다.
  

✅ 거래(입/출금) API
- 잔액 사용
- 잔액 사용 취소
- 거래 확인

✅ 송금 API

